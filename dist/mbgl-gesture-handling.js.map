{"version":3,"file":"mbgl-gesture-handling.js","sources":["../src/index.js"],"sourcesContent":["\"use strict\"\n\nlet timer;\n\nclass GestureHandling {\n  constructor(options) {\n    this.settings = {\n      backgroundColor: 'rgba(0, 0, 0, 0.8)',\n      textColor: '#ffffff',\n      textMessage: 'Use alt + scroll to zoom the map.',\n      timeout: 100,\n      ...options\n    };\n\n    this.alertBox = document.createElement('div');\n    this.alertBox.style.backgroundColor = this.settings.backgroundColor;\n    this.alertBox.style.position = 'absolute';\n    this.alertBox.style.display = 'none';\n    this.alertBox.style.zIndex = 9999;\n    this.alertBox.style.justifyContent = 'center';\n    this.alertBox.style.alignItems = 'center';\n\n    const textBox = document.createElement('div');\n    textBox.style.textAlign = 'center';\n    textBox.style.color = this.settings.textColor;\n    textBox.innerText = this.settings.textMessage;\n\n    this.alertBox.appendChild(textBox);\n    document.body.appendChild(this.alertBox);\n  }\n\n  addTo(map) {\n    map.scrollZoom.disable();\n\n    const rect = map.getContainer().getBoundingClientRect();\n\n    this.alertBox.style.top = `${rect.top + window.scrollY}px`;\n    this.alertBox.style.left = `${rect.left + window.scrollX}px`;\n    this.alertBox.style.width = `${rect.width}px`;\n    this.alertBox.style.height = `${rect.height}px`;\n\n    this.alertBox.addEventListener('wheel', () => {\n      clearTimeout(timer);\n\n      timer = setTimeout(() => {\n        this.alertBox.style.display = 'none';\n        map.scrollZoom.disable();\n      }, this.settings.timeout);\n    });\n\n    map.getContainer().addEventListener('wheel', (event) => {\n      if (event.altKey) {\n        this.alertBox.style.display = 'none';\n        map.scrollZoom.enable();\n      } else {\n        this.alertBox.style.display = 'flex';\n      }\n    })\n  }\n}\n\nexport default GestureHandling;\n"],"names":["let","timer","GestureHandling","constructor","options","settings","Object","backgroundColor","alertBox","document","createElement","style","this","position","display","zIndex","justifyContent","alignItems","textBox","textAlign","color","textColor","innerText","textMessage","appendChild","body","addTo","map","scrollZoom","disable","rect","getContainer","getBoundingClientRect","top","window","scrollY","left","scrollX","width","height","addEventListener","clearTimeout","setTimeout","timeout","event","altKey","enable"],"mappings":"AAEAA,IAAIC,EAEEC,EACJC,SAAYC,QACLC,SAAWC,kBACdC,gBAAiB,+BACN,sBACE,4CACJ,aAINC,SAAWC,SAASC,cAAc,YAClCF,SAASG,MAAMJ,gBAAkBK,KAAKP,SAASE,qBAC/CC,SAASG,MAAME,SAAW,gBAC1BL,SAASG,MAAMG,QAAU,YACzBN,SAASG,MAAMI,OAAS,UACxBP,SAASG,MAAMK,eAAiB,cAChCR,SAASG,MAAMM,WAAa,aAE3BC,EAAUT,SAASC,cAAc,OACvCQ,EAAQP,MAAMQ,UAAY,WAClBR,MAAMS,MAAQR,KAAKP,SAASgB,YAC5BC,UAAYV,KAAKP,SAASkB,iBAE7Bf,SAASgB,YAAYN,YACjBO,KAAKD,YAAYZ,KAAKJ,WAGjCkB,YAAAA,eAAMC,cACJA,EAAIC,WAAWC,cAETC,EAAOH,EAAII,eAAeC,6BAE3BxB,SAASG,MAAMsB,IAASH,EAAKG,IAAMC,OAAOC,kBAC1C3B,SAASG,MAAMyB,KAAUN,EAAKM,KAAOF,OAAOG,kBAC5C7B,SAASG,MAAM2B,MAAWR,kBAC1BtB,SAASG,MAAM4B,OAAYT,mBAE3BtB,SAASgC,iBAAiB,mBAC7BC,aAAaxC,GAEbA,EAAQyC,wBACDlC,SAASG,MAAMG,QAAU,OAC9Ba,EAAIC,WAAWC,WACdjB,EAAKP,SAASsC,aAGfZ,eAAeS,iBAAiB,iBAAUI,GACxCA,EAAMC,UACHrC,SAASG,MAAMG,QAAU,OAC9Ba,EAAIC,WAAWkB,YAEVtC,SAASG,MAAMG,QAAU"}