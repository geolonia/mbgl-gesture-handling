{"version":3,"file":"mbgl-gesture-handling.js","sources":["../src/index.js"],"sourcesContent":["\"use strict\"\n\nlet timer;\n\nclass GestureHandling {\n  constructor(options) {\n    this.settings = {\n      backgroundColor: 'rgba(0, 0, 0, 0.8)',\n      textColor: '#ffffff',\n      textMessage: 'Use alt + scroll to zoom the map.',\n      timeout: 100,\n      ...options\n    };\n\n    this.alertBox = document.createElement('div');\n    this.alertBox.style.backgroundColor = this.settings.backgroundColor;\n    this.alertBox.style.position = 'absolute';\n    this.alertBox.style.display = 'none';\n    this.alertBox.style.zIndex = 9999;\n    this.alertBox.style.justifyContent = 'center';\n    this.alertBox.style.alignItems = 'center';\n\n    const textBox = document.createElement('div');\n    textBox.style.textAlign = 'center';\n    textBox.style.color = this.settings.textColor;\n    textBox.innerText = this.settings.textMessage;\n\n    this.alertBox.appendChild(textBox);\n    document.body.appendChild(this.alertBox);\n  }\n\n  addTo(map) {\n    map.scrollZoom.disable();\n\n    this.alertBox.addEventListener('wheel', () => {\n      clearTimeout(timer);\n\n      timer = setTimeout(() => {\n        this.alertBox.style.display = 'none';\n        map.scrollZoom.disable();\n      }, this.settings.timeout);\n    });\n\n    map.getContainer().addEventListener('wheel', (event) => {\n      if (event.altKey) {\n        this.alertBox.style.display = 'none';\n        map.scrollZoom.enable();\n      } else {\n        const rect = map.getContainer().getBoundingClientRect();\n        this.alertBox.style.top = `${rect.top + window.scrollY}px`;\n        this.alertBox.style.left = `${rect.left + window.scrollX}px`;\n        this.alertBox.style.width = `${rect.width}px`;\n        this.alertBox.style.height = `${rect.height}px`;\n        this.alertBox.style.display = 'flex';\n      }\n    })\n  }\n}\n\nexport default GestureHandling;\n"],"names":["let","timer","GestureHandling","constructor","options","settings","Object","backgroundColor","alertBox","document","createElement","style","this","position","display","zIndex","justifyContent","alignItems","textBox","textAlign","color","textColor","innerText","textMessage","appendChild","body","addTo","map","scrollZoom","disable","addEventListener","clearTimeout","setTimeout","timeout","getContainer","event","altKey","enable","rect","getBoundingClientRect","top","window","scrollY","left","scrollX","width","height"],"mappings":"AAEAA,IAAIC,EAEEC,EACJC,SAAYC,QACLC,SAAWC,kBACdC,gBAAiB,+BACN,sBACE,4CACJ,aAINC,SAAWC,SAASC,cAAc,YAClCF,SAASG,MAAMJ,gBAAkBK,KAAKP,SAASE,qBAC/CC,SAASG,MAAME,SAAW,gBAC1BL,SAASG,MAAMG,QAAU,YACzBN,SAASG,MAAMI,OAAS,UACxBP,SAASG,MAAMK,eAAiB,cAChCR,SAASG,MAAMM,WAAa,aAE3BC,EAAUT,SAASC,cAAc,OACvCQ,EAAQP,MAAMQ,UAAY,WAClBR,MAAMS,MAAQR,KAAKP,SAASgB,YAC5BC,UAAYV,KAAKP,SAASkB,iBAE7Bf,SAASgB,YAAYN,YACjBO,KAAKD,YAAYZ,KAAKJ,WAGjCkB,YAAAA,eAAMC,cACJA,EAAIC,WAAWC,eAEVrB,SAASsB,iBAAiB,mBAC7BC,aAAa9B,GAEbA,EAAQ+B,wBACDxB,SAASG,MAAMG,QAAU,OAC9Ba,EAAIC,WAAWC,WACdjB,EAAKP,SAAS4B,aAGfC,eAAeJ,iBAAiB,iBAAUK,MACxCA,EAAMC,SACH5B,SAASG,MAAMG,QAAU,OAC9Ba,EAAIC,WAAWS,aACV,KACCC,EAAOX,EAAIO,eAAeK,0BAC3B/B,SAASG,MAAM6B,IAASF,EAAKE,IAAMC,OAAOC,eAC1ClC,SAASG,MAAMgC,KAAUL,EAAKK,KAAOF,OAAOG,eAC5CpC,SAASG,MAAMkC,MAAWP,eAC1B9B,SAASG,MAAMmC,OAAYR,gBAC3B9B,SAASG,MAAMG,QAAU"}